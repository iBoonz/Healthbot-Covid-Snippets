{
 "name": "Qna-Example",
 "id": "13fa383e-af8d-4d91-a395-1940961d6189",
 "scenario_trigger": "Qna_Example",
 "description": "",
 "active": true,
 "updated": "2020-04-23T07:13:52.7910000Z",
 "userDisplayName": "Bert Hoorne",
 "code": "{\"version\":3,\"steps\":[{\"id\":\"5b1747c81cf2-df5f09decd5534da-3cc7\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":711,\"yLocation\":80,\"next\":\"b82520e40480-de3b93b5b4d7b8fa-5716\"},\"onInit\":\"${host}  = \\\"https://{{INSTANCE}}.azurewebsites.net/qnamaker\\\";\\n${endpoint_key} = \\\"\\\";\\n${route}  = \\\"/knowledgebases/{{KNOWLEDGEBASEID}}/generateAnswer\\\";\\n\\n${question}  = {\\n    question: session.message.text ,\\n    //question: \\\"what is Corona\\\",\\n    top: 1,\\n    scoreThreshold: 70\\n};\"},{\"id\":\"b82520e40480-de3b93b5b4d7b8fa-5716\",\"type\":\"datasource\",\"designer\":{\"xLocation\":700,\"yLocation\":188,\"next\":\"395939473879-cb2674b0efd0fff9-611b\"},\"dataConnection\":\"\",\"urlBase\":\"${host}\",\"urlPath\":\"${route}\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    Authorization: \\\"EndpointKey \\\" + ${endpoint_key}\\r\\n}\",\"payload\":\"${question}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"QnA_response\",\"error\":\"QnA_error\"},{\"id\":\"395939473879-cb2674b0efd0fff9-611b\",\"type\":\"branch\",\"condition\":\"${QnA_response}.answers[0].questions.length === 0\",\"designer\":{\"xLocation\":693,\"yLocation\":325,\"next\":\"1f512767dc10-526bb41e4bb3ef64-ac49\"},\"targetStepId\":\"339bb1a49a56-1559f68116cef2b7-e87b\"},{\"id\":\"b1fa0c975f3b-eed9b28977368a06-7048\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":880,\"yLocation\":280,\"next\":\"b82520e40480-de3b93b5b4d7b8fa-5716\"},\"onInit\":\"session.logCustomEvent(\\\"answerNotKnownAsked\\\", session.message.text)\\nsession.logCustomEvent(\\\"answerNotKnownSelectedFromList\\\", scenario.NotKnowOptionSelected)\\n\\n${host}  = \\\"https://{{INSTANCE}}.azurewebsites.net/qnamaker\\\";\\n${endpoint_key} = \\\"\\\";\\n${route}  = \\\"/knowledgebases/{{KNOWLEDGEBASEID}}/generateAnswer\\\";\\n\\n${question}  = {\\n    question : scenario.NotKnowOptionSelected,\\n    top: 1,\\n    scoreThreshold: 70\\n};\"},{\"id\":\"ce2d958bddb9-b655794992fd270a-540a\",\"type\":\"branch\",\"condition\":\"${QnA_response}.answers[0].score < 70\",\"designer\":{\"xLocation\":680,\"yLocation\":647,\"next\":\"5f50d8e256dd-88c6a5dc908573ad-afce\"},\"targetStepId\":\"44cc2981825f-ce3ba693278bdc0b-d3dc\"},{\"id\":\"44cc2981825f-ce3ba693278bdc0b-d3dc\",\"type\":\"prompt\",\"dataType\":\"[\\\"Yes\\\", \\\"No\\\"]\",\"designer\":{\"xLocation\":769,\"yLocation\":753,\"listStyle\":3,\"next\":\"fb0bcffd7bce-afe14df976cd1b8a-6742\"},\"text\":\"Does this answer your question?\",\"variable\":\"answeredQuestion\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_64ab30baa96ec4b8\",\"choiceType\":\"choice\"},{\"id\":\"1f512767dc10-526bb41e4bb3ef64-ac49\",\"type\":\"branch\",\"condition\":\"${QnA_response}.answers[0].answer.length > 400\",\"designer\":{\"xLocation\":700,\"yLocation\":480,\"next\":\"7679ad6cd812-b77908b985a9cafa-3e73\"},\"targetStepId\":\"e97423296bef-dd1029ff97875509-f600\"},{\"id\":\"7679ad6cd812-b77908b985a9cafa-3e73\",\"type\":\"statement\",\"designer\":{\"xLocation\":540,\"yLocation\":566,\"next\":\"ce2d958bddb9-b655794992fd270a-540a\"},\"text\":\"${QnA_response}.answers[0].answer\",\"stringId\":\"stringId_6b3c00ae84de1215\"},{\"id\":\"e97423296bef-dd1029ff97875509-f600\",\"type\":\"statement\",\"designer\":{\"xLocation\":828,\"yLocation\":580,\"next\":\"ce2d958bddb9-b655794992fd270a-540a\"},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": scenario.QnA_response.answers[0].answer.substr(0,400) + \\\" ...\\\",\\r\\n            \\\"wrap\\\": true\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.ShowCard\\\",\\r\\n            \\\"title\\\": \\\"Read more\\\",\\r\\n            \\\"card\\\": {\\r\\n                \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n                \\\"body\\\": [\\r\\n                    {\\r\\n                        \\\"type\\\": \\\"TextBlock\\\",\\r\\n                        \\\"text\\\":  scenario.QnA_response.answers[0].answer,\\r\\n                        \\\"size\\\": \\\"Medium\\\",\\r\\n                        \\\"wrap\\\": true\\r\\n                    }\\r\\n                ],\\r\\n                \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\"\\r\\n            }\\r\\n        }\\r\\n    ]\\r\\n}\"}]},{\"id\":\"339bb1a49a56-1559f68116cef2b7-e87b\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":860,\"yLocation\":375,\"next\":\"b1fa0c975f3b-eed9b28977368a06-7048\"},\"variable\":\"NotKnowOptionSelected\",\"submitTitle\":\"Submit\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": \\\"I’m sorry, I didn’t understand your question. Please choose an option from the list.\\\"\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n                            \\\"title\\\": \\\"Symptoms of Coronavirus\\\",\\r\\n                            \\\"data\\\": \\\"Symptoms of Coronavirus\\\"\\r\\n                        },\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n                            \\\"title\\\": \\\"Protect yourself and others from coronavirus\\\",\\r\\n                            \\\"data\\\": \\\"Protect yourself and others from coronavirus\\\"\\r\\n                        },\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n                            \\\"title\\\": \\\"Restricted movements and self-isolation\\\",\\r\\n                            \\\"data\\\": \\\"Restricted movements and self-isolation\\\"\\r\\n                        },\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n                            \\\"title\\\": \\\"Testing\\\",\\r\\n                                 \\\"data\\\": \\\"Testing\\\"\\r\\n                        },\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n                            \\\"title\\\": \\\"Treatment\\\",\\r\\n                            \\\"data\\\": \\\"Treatment\\\"\\r\\n                        },\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n                            \\\"title\\\": \\\"At-risk groups\\\",\\r\\n                            \\\"data\\\": \\\"At-risk groups\\\"\\r\\n                        },\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n                            \\\"title\\\": \\\"Pregnancy and coronavirus\\\",\\r\\n                            \\\"data\\\": \\\"Pregnancy and coronavirus\\\"\\r\\n                        },\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n                            \\\"title\\\": \\\"Children and coronavirus\\\",\\r\\n                            \\\"data\\\": \\\"Children and coronavirus\\\"\\r\\n                        }\\r\\n                    ],\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\"\\r\\n}\"}]},{\"id\":\"5f50d8e256dd-88c6a5dc908573ad-afce\",\"type\":\"endwithresult\",\"designer\":{\"xLocation\":580,\"yLocation\":791},\"endScope\":\"scenario\",\"returnValue\":\"{}\"},{\"id\":\"fb0bcffd7bce-afe14df976cd1b8a-6742\",\"type\":\"endwithresult\",\"designer\":{\"xLocation\":766,\"yLocation\":831},\"endScope\":\"scenario\",\"returnValue\":\"{}\"}],\"interrupting\":false,\"breaking\":false,\"returningMessage\":\"\"}"
}